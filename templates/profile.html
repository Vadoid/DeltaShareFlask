{% extends 'base.html' %}
{% block content %}
<h3>Delta Sharing Profile</h3>
{% if has_existing_profile %}
<div class="alert alert-info" role="alert">
	<strong>Profile already exists!</strong> Current profile: <code>{{ existing_profile_path }}</code>
</div>
{% endif %}
<p class="text-muted">Upload a <code>.share</code> profile or paste JSON.</p>
<div class="row">
	<div class="col-md-6">
		<form method="post" enctype="multipart/form-data" class="mb-4">
			<div class="mb-3">
				<label class="form-label">Upload Profile File</label>
				<input type="file" name="file" class="form-control" accept=".share,.json,application/json">
			</div>
			<button class="btn btn-primary" type="submit">Upload</button>
		</form>
	</div>
	<div class="col-md-6">
		<form method="post">
			<div class="mb-3">
				<label class="form-label">Paste Profile JSON</label>
				<textarea name="json_text" class="form-control" rows="12" placeholder='{"shareCredentialsVersion":1, ...}'></textarea>
			</div>
			<button class="btn btn-secondary" type="submit">Save JSON</button>
		</form>
	</div>
</div>
<div class="mt-3">
	<small class="text-muted">Default path: {{ default_path }}</small>
</div>
{% endblock %}
